<!DOCTYPE HTML>
<html lang="en" dir="ltr">
    <head>
         <!-- Favicons -->
        <link rel="apple-touch-icon" sizes="57x57" href="https://incendo.org/assets/img/favicon/apple-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="60x60" href="https://incendo.org/assets/img/favicon/apple-icon-60x60.png">
        <link rel="apple-touch-icon" sizes="72x72" href="https://incendo.org/assets/img/favicon/apple-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="76x76" href="https://incendo.org/assets/img/favicon/apple-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="114x114" href="https://incendo.org/assets/img/favicon/apple-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="120x120" href="https://incendo.org/assets/img/favicon/apple-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="144x144" href="https://incendo.org/assets/img/favicon/apple-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="152x152" href="https://incendo.org/assets/img/favicon/apple-icon-152x152.png">
        <link rel="apple-touch-icon" sizes="180x180" href="https://incendo.org/assets/img/favicon/apple-icon-180x180.png">
        <link rel="icon" type="image/png" sizes="192x192"  href="https://incendo.org/assets/img/favicon/android-icon-192x192.png">
        <link rel="icon" type="image/png" sizes="32x32" href="https://incendo.org/assets/img/favicon/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="96x96" href="https://incendo.org/assets/img/favicon/favicon-96x96.png">
        <link rel="icon" type="image/png" sizes="16x16" href="https://incendo.org/assets/img/favicon/favicon-16x16.png">
        <link rel="manifest" href="https://incendo.org/assets/img/favicon/manifest.json">
        <meta name="msapplication-TileColor" content="#fdfdfd">
        <meta name="msapplication-TileImage" content="https://incendo.org/assets/img/favicon/ms-icon-144x144.png">
        <meta name="theme-color" content="#fdfdfd">
        <meta charset="utf-8">
        <meta name="viewport" content="width=devide-width, initial-scale=1, shrink-to-fit=no">
        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
        <title>Incendo Download Portal</title>
        <style>
            .themed-grid-col {
                padding-top: 15px;
                padding-bottom: 15px;
                background-color: rgba(245, 245, 245, .15);
                border: 1px solid rgba(86, 61, 124, .1);
            }
            html, body {
                max-width: 100% !important;
                width: 100%;
                font-family: 'Montserrat', sans-serif;
                scroll-behavior: smooth;
            }
            .logo {
                text-align: center;
                width: 100%;
                padding: 10px;
            }
            .logo>img {
                width: 50%;
            }
            .themed-grid-col:hover {
                background-color: rgba(245, 245, 245, .60);
            }
            a:hover {
                text-decoration: none;
            }
            a {
                color: #001f3f7f;
            }
            #page_footer {
                margin-top: 50px;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="logo">
                    <img width="auto" src="https://aareedhnen.cloudimg.io/width/2200/q35.foil1/https://incendo.org/assets/img/header_logo.png" />
            </div>
        </div>
        <!-- Project Picker -->
        <div id="project-picker" class="container">
            <div class="row" style="font-weight: bold">
                <div class="col-8 themed-grid-col">
                    Project
                </div>
                <div class="col-2 themed-grid-col">
                    Target
                </div>
                <div class="col-2 themed-grid-col">
                    Type
                </div>
            </div>
            <div class='project-entry' id="project-entry" style="display:none">
                <div class="row">
                    <div data-toggle="tooltip" title="Click to show files..." class="col-8 themed-grid-col">
                        <span class="entry-project"></span>
                    </div>
                    <div class="col-2 themed-grid-col">
                        <span class="entry-target"></span>
                    </div>
                    <div class="col-2 themed-grid-col">
                        <span class="entry-type"></span>
                    </div>
                </div>
            </div>
        </div>


        <!-- Templates -->
        <div id="projects" style="display:none">
            <div id="project-display" class="container" style="display: none; text-align: center">
                <div class="row" style="font-weight: bold">
                    <div class="col-12 themed-grid-col button-outline">
                        <span class="back-button"><i class="fas fa-caret-left"></i> Back to project listing</span>
                    </div>
                </div>
                <div class="row" style="font-weight: bold">
                    <div class="col-12 themed-grid-col">
                        <span class="project-title">title...</span>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 themed-grid-col">
                        <span class="project-desc">desc</span>
                    </div>
                </div>
                <div class="row" style="font-weight: bold">
                    <div class="col-2 themed-grid-col">
                        Version
                    </div>

                    <!--
                    <div class="col-1 themed-grid-col">
                        Type
                    </div>
                    -->

                    <div class="col-1 themed-grid-col">
                        Build
                    </div>
                    
                    <div class="col-3 themed-grid-col">
                        Platform
                    </div>

                    <div class="col-6 themed-grid-col">
                        File
                    </div>
                </div>
            </div>
            <div id="file-display" class="row" style="display:none;">
                <div class="col-2 themed-grid-col">
                    <span class="file-target">target...</span>
                </div>

                <!--
                <div class="col-1 themed-grid-col">
                    <span class="file-type">type...</span>
                </div>
                -->

                <div class="col-1 themed-grid-col">
                    <span class="file-build">build...</span>
                </div>
                
                <div class="col-3 themed-grid-col">
                    <span class="file-version">platform...</span>
                </div>

                <div class="col-6 themed-grid-col">
                    <span class="file-file">file</span>
                </div>
            </div>
            <div id="wiki" class="container" style="display: none;">
                <div class="row">
                    <div class="col-12 themed-grid-col">
                        <center><h2>Installation</h2></center><br>
                        <span class="project-wiki"></span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer Section -->
        <div id="page_footer">
            <footer>
                <div class="container">
                    <hr>
                    <div class="row">
                        <div class="col">
                            <h6>Incendo Downloads<br>
                                <span class="text-muted">By <a data-external="true" href="https://github.com/sauilitired">Sauilitired</a>.
                                    Copyright &copy; 2019
                                </span>
                            </h6>
                        </div>
                        <div class="col">
                            <h6>Technology<br>
                                <span class="text-muted">Running on 
                                    <a data-external="true" href="https://github.com/sauilitired/Kvantum" data-toggle="tooltip" title="Web server developed by Incendo">Kvantum</a>. 
                                    Version: <a onclick="new function() {alert('This version isn\'t available for download.');}" data-internal="true" data-toggle="tooltip" title="Development Version">in-dev</a></span>
                            </h6>
                        </div>
                        <div class="col">
                            <h6>Support<br>
                            <span class="text-muted">Report bugs on <a data-external="true" href="https://github.com/sauilitired/IS-Download">GitHub</a> <i class="fab fa-github-square"></i>
                            Donate via <a href="http://paypal.me/sauilitired" data-external="true">PayPal</a> <i class="fab fa-paypal"></i>
                            </span></h6>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
        <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/1.9.0/showdown.min.js" crossorigin="anonymous"></script>
        <!--<script src="http://localhost:1024/download/assets/js/main.js"></script>-->
        <script>
        var $projects,$projectEntries,BASE_PATH="https://incendo.org/download/api/",converter=new showdown.Converter,$isInProject=!1;function loadProjects(){resetState(),$projects=$("#projects"),$projectEntries=$("#project-picker"),readProjects(function(t){JSON.parse(t).forEach(t=>{readTargets(t,function(e){let o=e.display_name;JSON.parse(e.targets).forEach(e=>{readTypes(t,e,function(n){let r=n.display_name;JSON.parse(n.types).forEach(n=>{let i=getProjectEntry(t,e,n);i.find(".entry-project").text(o),i.find(".entry-target").text(r),i.find(".entry-type").text(n),i.attr("data-project",t),i.attr("data-target",e),i.attr("data-type",n),$('[data-toggle="tooltip"]').tooltip(),i.on("click",function(o){$('[data-toggle="tooltip"]').tooltip("hide"),$isInProject||($isInProject=!0,$projectEntries.fadeOut(400,function(){resetState(),readBuilds(t,e,n,function(o){let i=getProjectDisplay(t);if(i.find(".project-title").text(t),i.find(".project-desc").text(o.description),i.show(),$projects.append(i),"wiki"in o&&o.wiki.length>0){let r=createWiki(t,e,n,o.wiki);r.show(),$projects.append(r)}$projects.fadeIn(),$(".back-button").on("click",function(){$isInProject=!1,resetState(),loadProjects(),$projectEntries.fadeIn()}),JSON.parse(o.builds).reverse().forEach(o=>{readVersions(t,e,n,o,function(a){let c=a.display_name;JSON.parse(a.versions).forEach(a=>{readFile(t,e,n,o,a,function(t){if(!t.visible)return;let e=getFileDisplay(t.fileName);e.find(".file-build").text(c),e.find(".file-target").text(r),e.find(".file-type").text(n),e.find(".file-version").text(t.display_name),e.find(".file-file").html(`<a href="${t.download}" data-toggle="tooltip" title="Download via Jenkins">${t.fileName}`),i.append(e),$('[data-toggle="tooltip"]').tooltip(),e.fadeIn()})})})})})}))}),$projectEntries.append(i),$projectEntries.append($projectEntries.children().sort(function(t,e){var o=$(t),n=$(e),r=o.attr("data-project"),i=n.attr("data-project");if(r==i){var a=o.attr("data-type"),c=n.attr("data-type");return a<c?-1:a>c?1:0}return r<i?-1:1})),i.fadeIn()})})})})})})}function createWiki(t,e,o,n){let r=$("#wiki").clone();return r.attr("id",`wiki-${t}-${e}-${o}`),r.find(".project-wiki").html(converter.makeHtml(n)),r.addClass("copy"),r}function resetState(){$('[data-toggle="tooltip"]').tooltip("hide"),$(".copy").remove()}function getProjectEntry(t,e,o){let n=$("#project-entry").clone();return n.addClass("copy"),n.attr("id",`entry-${t}-${e}-${o}`),n}function getFileDisplay(t){let e=$("#file-display").clone();return e.addClass("copy"),e.attr("id",`file-${t}`),e}function getProjectDisplay(t){let e=$("#project-display").clone();return e.addClass("copy"),e.attr("id",`project-${t}`),e}function readFile(t,e,o,n,r,i){read(`${t}/${e}/${o}/${n}/${r}`,function(t){i(t)},!0)}function readVersions(t,e,o,n,r){read(`${t}/${e}/${o}/${n}`,function(t){r(t)},!1)}function readBuilds(t,e,o,n){read(`${t}/${e}/${o}`,function(t){n(t)},!0)}function readTypes(t,e,o){read(`${t}/${e}`,function(t){o(t)},!0)}function readTargets(t,e){read(t,function(t){e(t)},!0)}function readProjects(t){read("",function(e){t(e.projects)},!0)}function read(t,e,o){var n=BASE_PATH+t;console.log(`Reading ${n}`),$.ajax({method:"GET",url:n,async:o,dataType:"json"}).done(e).fail(function(t,e){alert("Request failed: "+e)})}$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip(),loadProjects()});
        </script>
    </body>
</html>
